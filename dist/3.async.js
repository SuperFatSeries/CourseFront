(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"8LB7":function(e,t,a){"use strict";var n=a("FfR7"),r=a("Dthn");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("lU11");var o=n(a("wR6Y"));a("S6Df");var l=n(a("IL7P"));a("4BOC");var d=n(a("R3oX"));a("/LQs");var u,i,c,s=n(a("MCn1")),f=n(a("ee8y")),m=n(a("b4l6")),p=n(a("0wiU")),h=n(a("SnMR")),v=n(a("GZrC")),g=n(a("nH91")),b=r(a("rdAL")),E=n(a("uo9F")),y=a("LneV"),k=n(a("d20F")),w=n(a("RQZ8")),N=(n(a("bjO7")),n(a("zHco"))),L=n(a("O3Dp")),C=(a("u4c+"),u=(0,y.connect)(function(e){var t=e.course,a=e.homework,n=e.notification,r=e.loading;return{course:t,loading:r.models.course,listLoading:r.effects["list/fetch"],homework:a,notification:n,notificationLoading:r.effects["notification/fetchList"]}}),u((c=function(e){function t(){var e,a;(0,m.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=(0,h.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(r))),a.state={newTags:[],inputVisible:!1,inputValue:"",tabKey:"info"},a.onTabChange=function(e,t){var n=a.props.match;switch(a.setState((0,f.default)({},t,e)),e){case"info":w.default.push("".concat(n.url,"/info"));break;case"ware":w.default.push("".concat(n.url,"/ware"));break;case"homework":w.default.push("".concat(n.url,"/homework"));break;default:break}},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"course/queryCourseDetail",payload:{courseId:this.props.match.params.courseId,page:0,size:10}}),e({type:"course/queryCourseInfo",payload:{courseId:this.props.match.params.courseId,page:0,size:10}}),e({type:"homework/queryHomeworkList",payload:{courseId:this.props.match.params.courseId,page:0,size:10}}),e({type:"notification/queryNotificationList",payload:{courseId:this.props.match.params.courseId,page:0,size:10}});var t=this.props.match;console.log(location.pathname.replace(location.pathname.substring(0,location.pathname.lastIndexOf("/")+1),"")),console.log(location.pathname.replace("".concat(t.path,"/"),""))}},{key:"componentWillUnmount",value:function(){this.props.dispatch}},{key:"renderHomeworkNotDLLList",value:function(){var e=this,t=this.props.homework.list;return console.log("renderHomeworkNotDLLList:"+t),t?t.map(function(t){return b.default.createElement(s.default.Grid,{className:L.default.projectGrid,key:t.id},b.default.createElement(s.default,{bodyStyle:{padding:0},bordered:!1},b.default.createElement(s.default.Meta,{title:b.default.createElement("div",{className:L.default.cardTitle},b.default.createElement(k.default,{to:"/course/"+e.props.match.params.courseId+"/homework"},t.name)),description:t.requirement}),b.default.createElement("div",{className:L.default.projectItemContent},b.default.createElement(k.default,{to:"/course/"+e.props.match.params.courseId+"/homework"},t.member||""),t.last_modified_time&&b.default.createElement("span",{className:L.default.datetime,title:t.last_modified_time},(0,E.default)(t.last_modified_time).fromNow()))))}):null}},{key:"renderNotification",value:function(){var e=this.props.notification.list;return e.map(function(e){return b.default.createElement(d.default.Item,{key:e.id},b.default.createElement(d.default.Item.Meta,{title:b.default.createElement("span",null,b.default.createElement("a",{className:L.default.username},e.title),"\xa0",b.default.createElement("span",{className:L.default.event},e.content)),description:b.default.createElement("span",{className:L.default.datetime,title:e.last_modified_time},(0,E.default)(e.last_modified_time).fromNow())}))})}},{key:"renderHeaderExtra",value:function(){var e=this.props.course.info;return b.default.createElement("div",null,b.default.createElement("div",{className:L.default.statItem},b.default.createElement("p",null,"\u8bfe\u4ef6"),b.default.createElement("p",null,e.courseware_count)),b.default.createElement("div",{className:L.default.statItem},b.default.createElement("p",null,"\u4f5c\u4e1a"),b.default.createElement("p",null,e.dated_count," ",b.default.createElement("span",null," / ",e.homework_count))),b.default.createElement("div",{className:L.default.statItem},b.default.createElement("p",null,"\u63d0\u4ea4\u6b21\u6570"),b.default.createElement("p",null,e.submit_count)))}},{key:"render",value:function(){var e=this,t=this.props,a=t.course.data,n=t.listLoading,r=(t.currentUser,t.currentUserLoading),u=t.notificationLoading,i=(t.match,t.location),c=t.children,f=b.default.createElement("div",{className:L.default.pageHeaderContent},b.default.createElement("div",{className:L.default.content},b.default.createElement("div",{className:L.default.contentTitle},"\u300a",a.name,"\u300b"),b.default.createElement("div",null))),m=b.default.createElement("div",{className:L.default.extraContent},this.renderHeaderExtra()),p=[{key:"info",tab:b.default.createElement("span",null,"\u4ecb\u7ecd")},{key:"ware",tab:b.default.createElement("span",null,"\u8bfe\u4ef6")},{key:"homework",tab:b.default.createElement("span",null,"\u4f5c\u4e1a")}];return b.default.createElement(N.default,{loading:r,content:f,extraContent:m},b.default.createElement(o.default,{gutter:24},b.default.createElement(l.default,{lg:16,md:24},b.default.createElement(s.default,{className:L.default.tabsCard,bordered:!1,tabList:p,activeTabKey:i.pathname.replace(i.pathname.substring(0,i.pathname.lastIndexOf("/")+1),""),onTabChange:function(t){e.onTabChange(t,"tabKey")},loading:n},c)),b.default.createElement(l.default,{xl:8,lg:24,md:24,sm:24,xs:24},b.default.createElement(s.default,{className:L.default.projectList,style:{marginBottom:24},title:"\u8fdb\u884c\u4e2d\u7684\u4f5c\u4e1a",bordered:!1,extra:b.default.createElement(k.default,{to:"/"},"\u5168\u90e8\u4f5c\u4e1a"),loading:u,bodyStyle:{padding:0}},this.renderHomeworkNotDLLList()),b.default.createElement(s.default,{bodyStyle:{padding:0},bordered:!1,className:L.default.activeCard,title:"\u901a\u77e5",loading:u},b.default.createElement(d.default,{loading:u,size:"large"},b.default.createElement("div",{className:L.default.activitiesList},this.renderNotification()))))))}}]),t}(b.PureComponent),i=c))||i),x=C;t.default=x},"9nVL":function(e,t,a){e.exports={linkGroup:"antd-pro-components-editable-link-group-index-linkGroup"}},DOM4:function(e,t,a){"use strict";var n=a("Dthn"),r=a("FfR7");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getBreadcrumb=void 0,a("Jg0v");var o=r(a("gJU/")),l=r(a("ee8y")),d=r(a("b4l6")),u=r(a("0wiU")),i=r(a("SnMR")),c=r(a("GZrC")),s=r(a("nH91")),f=n(a("rdAL")),m=r(a("UaMt")),p=r(a("tbSg")),h=a("S/9j"),v=function(e,t){var a=e[t];return a||Object.keys(e).forEach(function(n){(0,m.default)(n).test(t)&&(a=e[n])}),a||{}};t.getBreadcrumb=v;var g=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return a=(0,i.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),a.state={breadcrumb:null},a.getBreadcrumbDom=function(){var e=a.conversionBreadcrumbList();a.setState({breadcrumb:e})},a.getBreadcrumbProps=function(){var e=a.props,t=e.routes,n=e.params,r=e.location,o=e.breadcrumbNameMap;return{routes:t,params:n,routerLocation:r,breadcrumbNameMap:o}},a.conversionFromProps=function(){var e=a.props,t=e.breadcrumbList,n=e.breadcrumbSeparator,r=e.itemRender,d=e.linkElement,u=void 0===d?"a":d;return f.default.createElement(o.default,{className:p.default.breadcrumb,separator:n},t.map(function(e){var t=r?r(e):e.title;return f.default.createElement(o.default.Item,{key:e.title},e.href?(0,f.createElement)(u,(0,l.default)({},"a"===u?"href":"to",e.href),t):t)}))},a.conversionFromLocation=function(e,t){var n=a.props,r=n.breadcrumbSeparator,d=n.home,u=n.itemRender,i=n.linkElement,c=void 0===i?"a":i,s=(0,h.urlToList)(e.pathname),m=s.map(function(e,a){var n=v(t,e);if(n.inherited)return null;var r=a!==s.length-1&&n.component,d=u?u(n):n.name;return n.name&&!n.hideInBreadcrumb?f.default.createElement(o.default.Item,{key:e},(0,f.createElement)(r?c:"span",(0,l.default)({},"a"===c?"href":"to",e),d)):null});return m.unshift(f.default.createElement(o.default.Item,{key:"home"},(0,f.createElement)(c,(0,l.default)({},"a"===c?"href":"to","/"),d||"Home"))),f.default.createElement(o.default,{className:p.default.breadcrumb,separator:r},m)},a.conversionBreadcrumbList=function(){var e=a.props,t=e.breadcrumbList,n=e.breadcrumbSeparator,r=a.getBreadcrumbProps(),l=r.routes,d=r.params,u=r.routerLocation,i=r.breadcrumbNameMap;return t&&t.length?a.conversionFromProps():l&&d?f.default.createElement(o.default,{className:p.default.breadcrumb,routes:l.filter(function(e){return e.breadcrumbName}),params:d,itemRender:a.itemRender,separator:n}):u&&u.pathname?a.conversionFromLocation(u,i):null},a.itemRender=function(e,t,n,r){var o=a.props.linkElement,l=void 0===o?"a":o,d=n.indexOf(e)===n.length-1;return d||!e.component?f.default.createElement("span",null,e.breadcrumbName):(0,f.createElement)(l,{href:r.join("/")||"/",to:r.join("/")||"/"},e.breadcrumbName)},a}return(0,s.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.getBreadcrumbDom()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location;if(t&&e.location){var a=e.location.pathname;a!==t.pathname&&this.getBreadcrumbDom()}}},{key:"render",value:function(){var e=this.state.breadcrumb;return e}}]),t}(f.PureComponent);t.default=g},Dnn4:function(e,t,a){e.exports={content:"antd-pro-components-page-header-wrapper-index-content"}},LIIa:function(e,t,a){"use strict";var n=a("Dthn"),r=a("FfR7");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("jwET");var o=r(a("IP8+")),l=r(a("NuQ2")),d=r(a("b4l6")),u=r(a("0wiU")),i=r(a("SnMR")),c=r(a("GZrC")),s=r(a("nH91"));a("386e");var f=r(a("pASV")),m=n(a("rdAL")),p=r(a("iczh")),h=r(a("tbSg")),v=r(a("DOM4")),g=f.default.TabPane,b=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=(0,i.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),a.onChange=function(e){var t=a.props.onTabChange;t&&t(e)},a}return(0,s.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.logo,n=e.action,r=e.content,d=e.extraContent,u=e.tabList,i=e.className,c=e.tabActiveKey,s=e.tabDefaultActiveKey,b=e.tabBarExtraContent,E=e.loading,y=void 0!==E&&E,k=e.wide,w=void 0!==k&&k,N=e.hiddenBreadcrumb,L=void 0!==N&&N,C=(0,p.default)(h.default.pageHeader,i),x={};return void 0!==s&&(x.defaultActiveKey=s),void 0!==c&&(x.activeKey=c),m.default.createElement("div",{className:C},m.default.createElement("div",{className:w?h.default.wide:""},m.default.createElement(o.default,{loading:y,title:!1,active:!0,paragraph:{rows:3},avatar:{size:"large",shape:"circle"}},L?null:m.default.createElement(v.default,this.props),m.default.createElement("div",{className:h.default.detail},a&&m.default.createElement("div",{className:h.default.logo},a),m.default.createElement("div",{className:h.default.main},m.default.createElement("div",{className:h.default.row},t&&m.default.createElement("h1",{className:h.default.title},t),n&&m.default.createElement("div",{className:h.default.action},n)),m.default.createElement("div",{className:h.default.row},r&&m.default.createElement("div",{className:h.default.content},r),d&&m.default.createElement("div",{className:h.default.extraContent},d)))),u&&u.length?m.default.createElement(f.default,(0,l.default)({className:h.default.tabs},x,{onChange:this.onChange,tabBarExtraContent:b}),u.map(function(e){return m.default.createElement(g,{tab:e.tab,key:e.key})})):null)))}}]),t}(m.PureComponent);t.default=b},O3Dp:function(e,t,a){e.exports={activitiesList:"antd-pro-pages-course-course-detail-activitiesList",username:"antd-pro-pages-course-course-detail-username",event:"antd-pro-pages-course-course-detail-event",pageHeaderContent:"antd-pro-pages-course-course-detail-pageHeaderContent",avatar:"antd-pro-pages-course-course-detail-avatar",content:"antd-pro-pages-course-course-detail-content",contentTitle:"antd-pro-pages-course-course-detail-contentTitle",extraContent:"antd-pro-pages-course-course-detail-extraContent",statItem:"antd-pro-pages-course-course-detail-statItem",members:"antd-pro-pages-course-course-detail-members",member:"antd-pro-pages-course-course-detail-member",projectList:"antd-pro-pages-course-course-detail-projectList",cardTitle:"antd-pro-pages-course-course-detail-cardTitle",projectGrid:"antd-pro-pages-course-course-detail-projectGrid",projectItemContent:"antd-pro-pages-course-course-detail-projectItemContent",datetime:"antd-pro-pages-course-course-detail-datetime",activeCard:"antd-pro-pages-course-course-detail-activeCard"}},R1Dz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("rdAL"),r=(0,n.createContext)();t.default=r},"S/9j":function(e,t,a){"use strict";function n(e){var t=e.split("/").filter(function(e){return e});return t.map(function(e,a){return"/".concat(t.slice(0,a+1).join("/"))})}Object.defineProperty(t,"__esModule",{value:!0}),t.urlToList=n},bjO7:function(e,t,a){"use strict";var n=a("Dthn"),r=a("FfR7");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("3uLX");var o=r(a("KNZI")),l=r(a("b4l6")),d=r(a("0wiU")),u=r(a("SnMR")),i=r(a("GZrC")),c=r(a("nH91")),s=n(a("rdAL")),f=(r(a("T9cD")),r(a("9nVL"))),m=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.links,a=e.linkElement,n=e.onAdd;return s.default.createElement("div",{className:f.default.linkGroup},t.map(function(e){return(0,s.createElement)(a,{key:"linkGroup-item-".concat(e.id||e.title),to:e.href,href:e.href},e.title)}),s.default.createElement(o.default,{size:"small",type:"primary",ghost:!0,onClick:n,icon:"plus"},"\u6dfb\u52a0"))}}]),t}(s.PureComponent);m.defaultProps={links:[],onAdd:function(){},linkElement:"a"};var p=m;t.default=p},"lh+i":function(e,t,a){e.exports={main:"antd-pro-components-page-header-wrapper-grid-content-main",wide:"antd-pro-components-page-header-wrapper-grid-content-wide"}},tbSg:function(e,t,a){e.exports={pageHeader:"antd-pro-components-page-header-index-pageHeader",wide:"antd-pro-components-page-header-index-wide",detail:"antd-pro-components-page-header-index-detail",row:"antd-pro-components-page-header-index-row",breadcrumb:"antd-pro-components-page-header-index-breadcrumb",tabs:"antd-pro-components-page-header-index-tabs",logo:"antd-pro-components-page-header-index-logo",title:"antd-pro-components-page-header-index-title",action:"antd-pro-components-page-header-index-action",content:"antd-pro-components-page-header-index-content",extraContent:"antd-pro-components-page-header-index-extraContent",main:"antd-pro-components-page-header-index-main"}},v99g:function(e,t,a){"use strict";var n=a("Dthn"),r=a("FfR7");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a("b4l6")),l=r(a("0wiU")),d=r(a("SnMR")),u=r(a("GZrC")),i=r(a("nH91")),c=n(a("rdAL")),s=a("LneV"),f=r(a("lh+i")),m=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contentWidth,a=e.children,n="".concat(f.default.main);return"Fixed"===t&&(n="".concat(f.default.main," ").concat(f.default.wide)),c.default.createElement("div",{className:n},a)}}]),t}(c.PureComponent),p=(0,s.connect)(function(e){var t=e.setting;return{contentWidth:t.contentWidth}})(m);t.default=p},zHco:function(e,t,a){"use strict";var n=a("FfR7");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("NuQ2")),o=n(a("nsw/")),l=n(a("rdAL")),d=a("UPVw"),u=n(a("d20F")),i=n(a("LIIa")),c=a("LneV"),s=n(a("v99g")),f=n(a("Dnn4")),m=n(a("R1Dz")),p=function(e){var t=e.children,a=e.contentWidth,n=e.wrapperClassName,c=e.top,p=(0,o.default)(e,["children","contentWidth","wrapperClassName","top"]);return l.default.createElement("div",{style:{margin:"-24px -24px 0"},className:n},c,l.default.createElement(m.default.Consumer,null,function(e){return l.default.createElement(i.default,(0,r.default)({wide:"Fixed"===a,home:l.default.createElement(d.FormattedMessage,{id:"menu.home",defaultMessage:"Home"})},e,{key:"pageheader"},p,{linkElement:u.default,itemRender:function(e){return e.locale?l.default.createElement(d.FormattedMessage,{id:e.locale,defaultMessage:e.title}):e.title}}))}),t?l.default.createElement("div",{className:f.default.content},l.default.createElement(s.default,null,t)):null)},h=(0,c.connect)(function(e){var t=e.setting;return{contentWidth:t.contentWidth}})(p);t.default=h}}]);